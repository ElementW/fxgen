#!/bin/bash

if [ "$#" == "0" ]; then
echo txt file to C string converter
echo Usage:
echo $0 filename
exit
fi

name=$(echo $(basename "$1")|tr ".-" _)
echo /\* Generated by txt2c on $(date) from $(basename "$1") */ > "$name.cpp"
echo const char* $name= >> "$name.cpp"
cat "$1" | sed s/\\\\/\\\\\\\\/ | sed s/\"/\\\\\"/g | sed s/^/\"/ | sed s/$/\"/ >> "$name.cpp"
echo \; >> "$name.cpp"
